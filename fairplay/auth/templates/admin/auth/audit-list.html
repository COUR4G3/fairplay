{% from 'admin/list.html' import render_list %}
{% from 'admin/widgets/date.html' import render_date %}
{% from 'admin/widgets/remote_addr.html' import render_remote_addr %}

{{
  render_list(
    events,
    actions=[
        {'endpoint': '.list', 'label': 'Export', 'method': 'GET', 'multi': True},
    ],
    columns=[
      {'name': 'date', 'label': 'Date', 'render': render_date},
      {'name': 'category', 'label': 'Category'},
      {'name': 'event', 'label': 'Event'},
      {'name': 'message', 'label': 'Message'},
      {'name': 'remote_addr', 'label': 'IP Address', 'render': render_remote_addr},
    ],
    create=False,
    endpoint_kwargs={'user_id': user.id},
    list_endpoint='.audit_events',
    read_endpoint='.audit_event',
  ) 
}}
